import pandas as pd
from sklearn.ensemble import RandomForestClassifier

# Load your dataset
data = pd.read_csv('your_dataset.csv')

# Separate features (X) and target (y) for classification
X = data.drop('cluster_column', axis=1)  # Replace 'cluster_column' with your target column
y = data['cluster_column']

# Convert categorical columns to one-hot encoded representation
X_encoded = pd.get_dummies(X, columns=['categorical_column1', 'categorical_column2'])

# Train a Random Forest classifier
clf = RandomForestClassifier(random_state=0)
clf.fit(X_encoded, y)

# Get feature importances
feature_importances = clf.feature_importances_

# Create a list of tuples (feature_name, importance) and sort by importance
feature_importance_list = list(zip(X_encoded.columns, feature_importances))
feature_importance_list.sort(key=lambda x: x[1], reverse=True)

# Select top features based on importance
num_top_features = 5  # You can adjust this number
top_features = [feature for feature, importance in feature_importance_list[:num_top_features]]

print("Top features for clustering:", top_features)